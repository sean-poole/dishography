<%- include('partials/header-in') -%>

<section class="container mx-auto my-3 p-0">
  <div class="displayCard rounded d-flex row mx-auto p-1">
    <div class="p-0 p-lg-3">
      <h3 class="mt-2 mt-lg-0 text-center text-lg-start">Saved recipes: </h3>

      <% if (favorites.length === 0) { %>
      <h4 class="text-center">No recipes saved yet.</h4>  
      <% } else { %>
      <ul class="d-flex flex-wrap justify-content-evenly mt-4 list-unstyled">
        <% for (let i = 0; i < favorites.length; i++) { %>
          <li class="d-flex col-9 col-lg-3 mx-1 my-1">

            <!-- Start recipe display card -->
            <div class="card mb-3 p-1">
              <img src="<%=favorites[i].image%>" alt="Food Image" class="img-fluid mx-auto rounded">
              <div class="card-body d-flex flex-column justify-content-between">
                <div class="">
                  <h3 class="fs-5"><%=favorites[i].name%></h3>
                  <p class="d-none d-md-block mt-2"><%=favorites[i].desc%></p>
                </div>

                <div class="mt-2 fs-6">
                  <div class="">
                    <p class="m-0">Created by: </p>
                    <a href="/profile/<%=favorites[i].authorId%>" class="authorName m-0 fw-medium"><%=favorites[i].author%></a>
                  </div>
                  <a href="/feed/<%=favorites[i].recipeId%>" class="btn btn-primary mt-2 fw-medium">View Recipe</a>
                </div>
              </div>
            </div>
            <!-- End recipe display card -->

          </li>
        <% } %>
      </ul>
      <% } %>
      
    </div>
  </div>
</section>

<%- include('partials/footer') -%>